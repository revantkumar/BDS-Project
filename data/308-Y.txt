They do "employ American students first ", but there are just not enough qualified American students in STEM. Check the ratio of Americans in STEM graduate school, then you'll see it is important to let foreigners work in the US - unless you truly believe silicon valley will be just fine without masters and PhDs.